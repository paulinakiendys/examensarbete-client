<mat-toolbar>
  <span>Memories</span>
  <span class="spacer"></span>
  <ng-container *ngIf="(user$ | async) as user; else guest">
    <button mat-button [matMenuTriggerFor]="myPosts">My posts</button>
    <mat-menu #myPosts="matMenu">
      <a mat-menu-item [routerLink]="'user/posts/add'">Add post</a>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="profileMenu">{{ user.email }}</button>
    <mat-menu #profileMenu="matMenu">
      <a mat-menu-item (click)="logout()">Log out</a>
    </mat-menu>
  </ng-container>
  <ng-template #guest>
    <button mat-button [matMenuTriggerFor]="publicPosts">Public posts</button>
    <mat-menu #publicPosts="matMenu">
      <a mat-menu-item [routerLink]="'guest/public-posts/random'">Random</a>
      <a mat-menu-item [routerLink]="'guest/public-posts/search'">Search</a>
      <a mat-menu-item [routerLink]="'guest/public-posts/newest'">Newest</a>
      <a mat-menu-item [routerLink]="'guest/public-posts/oldest'">Oldest</a>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="account">Account</button>
    <mat-menu #account="matMenu">
      <a mat-menu-item [routerLink]="'login'">Log in</a>
      <a mat-menu-item [routerLink]="'signup'">Sign up</a>
      <a mat-menu-item [routerLink]="'forgot-password'">Forgot password?</a>
    </mat-menu>
  </ng-template>
</mat-toolbar>
<router-outlet></router-outlet>
